webpackJsonp([31],{481:function(e,t,o){function n(e){o(556)}var r=o(4)(o(539),o(562),n,"data-v-5d4adcc4",null);e.exports=r.exports},539:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"add-from",data:function(){return{id:"",model1:"",category:[],formItem:{id:"",name:"",parent_id:0,weights:""},ruleInline:{name:[{required:!0,message:"请填写分类名称",trigger:"blur"}]}}},methods:{handleSubmit:function(){var e=this;console.info("f到了"),this.loading=!0,console.info(this.formItem),this.$refs.addFromSub.validate(function(t){if(!t)return e.$Message.success("验证失败"),!1;e.$store.dispatch("Addcategory",e.formItem).then(function(t){console.info("成功回调"),0==t.data.code?(console.info(t.data),e.$Message.error("提交失败"),e.todo.modal12=!0,e.$emit("refreshFrom"),e.loading=!1):(console.info(t.data),e.$Message.success("提交成功"),e.$router.push({name:"商品类别"}),e.loading=!1)}).catch(function(t){console.info(t),e.$Message.error(t),e.loading=!1})})},cancel:function(){console.info("取消"),this.$router.push({name:"商品类别"})}},mounted:function(){console.info("到了mounted")},beforeMount:function(){var e=this;console.info("到了beforeMount"),void 0==this.$route.params.id?this.$router.push({name:"商品类别"}):this.formItem=this.$route.params,this.$store.dispatch("GetCategoryParent").then(function(t){console.info("成功回调"),console.info(t.data);var o=[{id:0,name:"主分类"}],n=o.concat(t.data);e.category=n,console.info(e.category),e.data1=t.data,e.loading=!1}).catch(function(t){console.info(t),e.$message.error(t),e.loading=!1})}}},550:function(e,t,o){t=e.exports=o(477)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"addFrom.vue",sourceRoot:""}])},556:function(e,t,o){var n=o(550);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(478)("50adf1e0",n,!0)},562:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Form",{ref:"addFromSub",attrs:{model:e.formItem,"label-width":80,rules:e.ruleInline}},[o("FormItem",{attrs:{label:"id",hidden:"true"}},[o("Input",{attrs:{placeholder:"id"},model:{value:e.formItem.id,callback:function(t){e.$set(e.formItem,"id",t)},expression:"formItem.id"}})],1),e._v(" "),o("FormItem",{attrs:{label:"名称",prop:"name"}},[o("Input",{attrs:{placeholder:"名称"},model:{value:e.formItem.name,callback:function(t){e.$set(e.formItem,"name",t)},expression:"formItem.name"}})],1),e._v(" "),o("FormItem",{attrs:{label:"权重",prop:"weights"}},[o("Input",{attrs:{type:"text",placeholder:"显示的顺序",number:""},model:{value:e.formItem.weights,callback:function(t){e.$set(e.formItem,"weights",t)},expression:"formItem.weights"}})],1),e._v(" "),o("FormItem",{attrs:{label:"类别"}},[o("Select",{staticStyle:{width:"200px"},model:{value:e.formItem.parent_id,callback:function(t){e.$set(e.formItem,"parent_id",t)},expression:"formItem.parent_id"}},e._l(e.category,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit()}}},[e._v("提交")]),e._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.cancel()}}},[e._v("取消")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=31.39756a5fa9057d752078.js.map